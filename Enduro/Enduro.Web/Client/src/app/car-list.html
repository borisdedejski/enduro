<template>
  <require from="./car-list.scss"></require>
  <require from="../resources/elements/map/map"></require>

  <div class="container-fluid" style="margin-bottom:600px;">
    <div style="margin-top:10px;">
      <button class="btn btn-secondary" click.delegate="sortBy()">Sort By</button>
      <button class="btn btn-secondary" click.delegate="moreFilters()">More filters</button>
    </div>
    <hr>
    <nav aria-label="Page navigation example">
      <ul class="pagination">
        <li class="page-item">
          <a class="page-link car-list-links" href="#" click.delegate="navigateToPreviuos()" aria-label="Previous">
            <span aria-hidden="true">&laquo;</span>
            <span class="sr-only">Previous</span>
          </a>
        </li>
        <li repeat.for="i of totalPages" class="page-item ${i+1 === page ? 'active': ''}" >
          <a class="page-link car-list-links " href="#" click.delegate="navigateToPage(i)">${i+1}</a>
        </li>
        <li class="page-item">
          <a class="page-link car-list-links"  href="#" click.delegate="navigateToNext()" aria-label="Next">
            <span aria-hidden="true">&raquo;</span>
            <span class="sr-only">Next</span>
          </a>
        </li>
      </ul>
    </nav>
    <div class="row" >
      <div class="col-8">
        <div class="row" style="margin-bottom:10px;">
          <div class="col-4" repeat.for="result of searchResults.items">
            <div class="card" >
              <img class="card-img-top" src="https://localhost:44319/api/images/${result.carImage}" alt="Card image cap">

              <div class="float-right card-price" style="text-align:center">
                <span><span style="font-weight:bold;">$ ${result.price}</span> /day</span>
              </div>
              <div class="card-body">
                <h5 class="card-title">${result.make} ${result.model} - ${result.year}</h5>
                <label class="card-text"><span style="border: 1px solid black;"> ${result.carClass}
                    class </span></label>
                    <br>
                <button class="btn btn-secondary" click.trigger="navigateToCar(result.carId)">Continue <i class="fas fa-angle-right"></i>
                </button>
              </div>
            </div>
            <br>
          </div>
        </div>
      </div>
      <!-- map here -->
      <div class="col-4" style="padding-left:0px;height:1200px;">
        <map></map>
      </div>
    </div>
  </div>
</template>
